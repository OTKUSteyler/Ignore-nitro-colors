(function(r,e,t,s,i,c,d){"use strict";const{FormSwitchRow:g}=d.Forms;function P(){return c.useProxy(e.storage),React.createElement(g,{label:"Disable Nitro Profile Colors",value:e.storage.disableProfileColors??!0,onValueChange:function(l){e.storage.disableProfileColors=l}})}const u=s.findByProps("getUserProfile","fetchProfile"),C=s.findByProps("getMember","getMembers");let a,f;function b(){console.log("[IgnoreProfileColors] Plugin loaded!"),e.settings.disableProfileColors||(e.settings.disableProfileColors=!0),a=t.after("getUserProfile",u,function(l,o){let[n]=l;e.settings.disableProfileColors&&o?.profile&&(o.profile.accentColor=null,o.profile.bannerColor=null,console.log(`[IgnoreProfileColors] Removed colors for user ${n}`))}),f=t.after("getMember",C,function(l,o){let[n,U]=l;e.settings.disableProfileColors&&o&&(o.colorString=null,console.log(`[IgnoreProfileColors] Removed member color for user ${U} in guild ${n}`))}),i.forceUpdateAll()}function m(){a?.(),f?.(),i.forceUpdateAll(),console.log("[IgnoreProfileColors] Plugin unloaded.")}const v=P;return r.onLoad=b,r.onUnload=m,r.settingsPanel=v,r})({},vendetta.plugin,vendetta.patcher,vendetta.metro,vendetta.ui.updates,vendetta.storage,vendetta.ui.components);
